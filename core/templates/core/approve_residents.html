{% extends 'core/base.html' %}

{% block content %}
<h2>Resident Applications</h2>

<table border="1">
    <tr>
        <th>Name</th>
        <th>House Number</th>
        <th>Phone</th>
        <th>Actions</th>
    </tr>
    {% for app in applications %}
    <tr>
        <td>{{ app.name }}</td>
        <td>{{ app.house_number }}</td>
        <td>{{ app.phone_number }}</td>
        <td>
            <form action="{% url 'approve_resident' app.id %}" method="POST">
                {% csrf_token %}
                <button type="submit">Approve</button>
            </form>
            <form action="{% url 'reject_resident' app.id %}" method="POST">
                {% csrf_token %}
                <button type="submit" style="background-color: red;">Reject</button>
            </form>
        </td>
    </tr>
    {% empty %}
    <tr><td colspan="4">No pending applications.</td></tr>
    {% endfor %}
</table>

<a href="{% url 'ward_manager_dashboard' %}">Back to Dashboard</a>
{% endblock %}
